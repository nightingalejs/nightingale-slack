{"version":3,"sources":["../src/index.js"],"names":["SlackHandler","createHandler","slackConfig","record","body","url","webhookUrl","json","on","err2","console","error","stack","minLevel","handle"],"mappings":";;;;;kBAkBwBA,Y;;AAlBxB;;AACA;;;;;;;;;;AAEA,MAAMC,gBAAiBC,WAAD,IAAiBC,UAAU;AAC/C,QAAMC,OAAO,0BAAWD,MAAX,EAAmBD,WAAnB,CAAb;;AAEA,qBAAK,EAAEG,KAAKH,YAAYI,UAAnB,EAA+BF,IAA/B,EAAqCG,MAAM,IAA3C,EAAL,EACGC,EADH,CACM,OADN,EACgBC,IAAD,IAAUC,QAAQC,KAAR,CAAcF,KAAKG,KAAnB,CADzB;AAED,CALD;;AAOA,sEAAuB,kCACrB,6CAAY,8BAAZ,CADqB,EAErB,0CAAS,+BAAC,8BAAD,CAAT,CAFqB,EAGrB,2CAAU,+BAAC,8BAAD,CAAV,CAHqB,EAIrB,0CAAS,+BAAC,8BAAD,CAAT,CAJqB,EAKrB,4CAAW,+BAAC,8BAAD,CAAX,CALqB,CAAvB;;AAQe,SAASZ,YAAT,CAAsBE,WAAtB,EAAoDW,QAApD,EAAsE;AAAA,sBAAV,8BAAU;;AAAA,6CAArC,eAAqC;;AAAA;;AACnF,OAAKA,QAAL,GAAgBA,QAAhB;AACA,OAAKC,MAAL,GAAcb,cAAcC,WAAd,CAAd;AACD","file":"index.js","sourcesContent":["import { post } from 'request';\nimport createBody from './createBody';\n\nconst createHandler = (slackConfig) => record => {\n  const body = createBody(record, slackConfig);\n\n  post({ url: slackConfig.webhookUrl, body, json: true })\n    .on('error', (err2) => console.error(err2.stack));\n};\n\ntype SlackConfigType = {|\n  webhookUrl: string,\n  channel: ?string,\n  username: ?string,\n  iconUrl: ?string,\n  iconEmoji: ?string,\n|};\n\nexport default function SlackHandler(slackConfig: SlackConfigType, minLevel: number) {\n  this.minLevel = minLevel;\n  this.handle = createHandler(slackConfig);\n}\n"]}