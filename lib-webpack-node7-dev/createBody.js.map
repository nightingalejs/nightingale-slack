{"version":3,"sources":["../src/createBody.js"],"names":["markdownFormatter","rawFormatter","levels","levelToSlackColor","TRACE","DEBUG","INFO","WARN","ERROR","CRITICAL","FATAL","EMERGENCY","record","slackConfig","markdown","raw","channel","username","icon_url","iconUrl","icon_emoji","iconEmoji","attachments","fallback","title","message","color","level","text","mrkdwn_in"],"mappings":"AAAA;AACA,OAAOA,iBAAP;AACA,OAAOC,YAAP;;AAEA,OAAOC,MAAP,MAAmB,oBAAnB;;AAEA,MAAMC,oBAAoB;AACxB,GAACD,OAAOE,KAAR,GAAgB,SADQ;AAExB,GAACF,OAAOG,KAAR,GAAgB,SAFQ;AAGxB,GAACH,OAAOI,IAAR,GAAe,SAHS;AAIxB,GAACJ,OAAOK,IAAR,GAAe,SAJS;AAKxB,GAACL,OAAOM,KAAR,GAAgB,QALQ;AAMxB,GAACN,OAAOO,QAAR,GAAmB,QANK;AAOxB,GAACP,OAAOQ,KAAR,GAAgB,QAPQ;AAQxB,GAACR,OAAOS,SAAR,GAAoB;AARI,CAA1B;;AAWA,gBAAe,oBAACC,MAAD,EAASC,WAAT,EAAyB;AACtC,QAAMC,WAAWd,kBAAkBY,MAAlB,CAAjB;AACA,QAAMG,MAAMd,aAAaW,MAAb,CAAZ;;AAEA,SAAO;AACLI,aAASH,YAAYG,OADhB;AAELC,cAAUJ,YAAYI,QAFjB;AAGLC,cAAUL,YAAYM,OAHjB;AAILC,gBAAYP,YAAYQ,SAJnB;AAKLC,iBAAa,CACX;AACEC,gBAAUR,GADZ;AAEES,aAAOZ,OAAOa,OAFhB;AAGEC,aAAOvB,kBAAkBS,OAAOe,KAAzB,CAHT;AAIEC,YAAMd,QAJR;AAKEe;AALF,KADW;AALR,GAAP;AAeD,CAnBD","file":"createBody.js","sourcesContent":["/* eslint camelcase: \"off\" */\nimport markdownFormatter from 'nightingale-markdown-formatter/src';\nimport rawFormatter from 'nightingale-raw-formatter/src';\n\nimport levels from 'nightingale-levels';\n\nconst levelToSlackColor = {\n  [levels.TRACE]: '#808080',\n  [levels.DEBUG]: '#808080',\n  [levels.INFO]: '#808080',\n  [levels.WARN]: 'warning',\n  [levels.ERROR]: 'danger',\n  [levels.CRITICAL]: 'danger',\n  [levels.FATAL]: 'danger',\n  [levels.EMERGENCY]: 'danger',\n};\n\nexport default (record, slackConfig) => {\n  const markdown = markdownFormatter(record);\n  const raw = rawFormatter(record);\n\n  return {\n    channel: slackConfig.channel,\n    username: slackConfig.username,\n    icon_url: slackConfig.iconUrl,\n    icon_emoji: slackConfig.iconEmoji,\n    attachments: [\n      {\n        fallback: raw,\n        title: record.message,\n        color: levelToSlackColor[record.level],\n        text: markdown,\n        mrkdwn_in: ['text'],\n      },\n    ],\n  };\n};\n"]}