{"version":3,"sources":["../src/index.js"],"names":["post","createBody","createHandler","slackConfig","record","body","url","webhookUrl","json","on","err2","console","error","stack","SlackHandler","minLevel","handle"],"mappings":"AAAA,SAASA,IAAT,QAAqB,SAArB;AACA,OAAOC,UAAP,MAAuB,cAAvB;;;AAEA,MAAMC,gBAAiBC,WAAD,IAAiBC,UAAU;AAC/C,QAAMC,OAAOJ,WAAWG,MAAX,EAAmBD,WAAnB,CAAb;;AAEAH,OAAK,EAAEM,KAAKH,YAAYI,UAAnB,EAA+BF,IAA/B,EAAqCG,MAAM,IAA3C,EAAL,EACGC,EADH,CACM,OADN,EACgBC,IAAD,IAAUC,QAAQC,KAAR,CAAcF,KAAKG,KAAnB,CADzB;AAED,CALD;;AAOA,kDAAuB,cACrB,yBAAY,UAAZ,CADqB,EAErB,sBAAS,WAAC,UAAD,CAAT,CAFqB,EAGrB,uBAAU,WAAC,UAAD,CAAV,CAHqB,EAIrB,sBAAS,WAAC,UAAD,CAAT,CAJqB,EAKrB,wBAAW,WAAC,UAAD,CAAX,CALqB,CAAvB;;;AAQA,eAAe,SAASC,YAAT,CAAsBX,WAAtB,EAAoDY,QAApD,EAAsE;AAAA,sBAAV,UAAU;;AAAA,yBAArC,eAAqC;AAAA;;AACnF,OAAKA,QAAL,GAAgBA,QAAhB;AACA,OAAKC,MAAL,GAAcd,cAAcC,WAAd,CAAd;AACD","file":"index.js","sourcesContent":["import { post } from 'request';\nimport createBody from './createBody';\n\nconst createHandler = (slackConfig) => record => {\n  const body = createBody(record, slackConfig);\n\n  post({ url: slackConfig.webhookUrl, body, json: true })\n    .on('error', (err2) => console.error(err2.stack));\n};\n\ntype SlackConfigType = {|\n  webhookUrl: string,\n  channel: ?string,\n  username: ?string,\n  iconUrl: ?string,\n  iconEmoji: ?string,\n|};\n\nexport default function SlackHandler(slackConfig: SlackConfigType, minLevel: number) {\n  this.minLevel = minLevel;\n  this.handle = createHandler(slackConfig);\n}\n"]}